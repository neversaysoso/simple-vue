{"version":3,"file":"vue.js","sources":["../../src/utils/index.js","../../src/observer/array.js","../../src/observer/dep.js","../../src/observer/index.js","../../src/state.js","../../src/observer/watcher.js","../../src/compiler/index.js","../../src/init.js","../../src/index.js"],"sourcesContent":["export function isObject(data) {\r\n  return typeof data === 'object' && data !== null\r\n}\r\n\r\nexport function def(data, key, value) {\r\n  Object.defineProperty(data, key, {\r\n    enumerable: false,\r\n    configurable: false,\r\n    value\r\n  })\r\n}\r\n\r\nexport function throttle(fn, wait = 100) {\r\n  let lastTime = Date.now()\r\n  return (...args) => {\r\n    let now = Date.now()\r\n    if (now - lastTime > wait) {\r\n      fn.apply(this, args)\r\n      lastTime = now\r\n    }\r\n  }\r\n}","let oldarrayMethods = Array.prototype\r\n\r\nexport const arrayMethods = Object.create(oldarrayMethods)\r\n\r\nconst methods = [\r\n  'push',\r\n  'shift',\r\n  'unshift',\r\n  'pop',\r\n  'sort',\r\n  'splice',\r\n  'reverse'\r\n]\r\n\r\nmethods.forEach(method => {\r\n  arrayMethods[method] = function (...args) {\r\n    const result = oldarrayMethods[method].apply(this, args)\r\n    let ob = this.__ob__\r\n    let inserted\r\n    switch (method) {\r\n      case 'push':\r\n      case 'unshift':\r\n        inserted = args\r\n        break;\r\n      case 'splice':\r\n        inserted = args.slice(2)\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (inserted) ob.observeArray(inserted)\r\n\r\n    return result\r\n  }\r\n});","export default class Dep { // 依赖收集\r\n  constructor() {\r\n    this.deps = [] // 存放watcher 一个watcher对应一个属性\r\n  }\r\n\r\n  addDep(dep) {\r\n    this.deps.push(dep)\r\n  }\r\n\r\n  notify() {\r\n    this.deps.forEach(dep => {\r\n      dep.update()\r\n    })\r\n  }\r\n}","import {\r\n  isObject,\r\n  def\r\n} from '../utils/index'\r\n\r\nimport {\r\n  arrayMethods\r\n} from './array'\r\n\r\nimport Dep from './dep'\r\n\r\nclass Observer {\r\n  constructor(value, vm) {\r\n    this.value = value\r\n    this.vm = vm\r\n    console.log(this.vm)\r\n    def(value, '__ob__', this)\r\n    if (Array.isArray(value)) {\r\n      value.__proto__ = arrayMethods\r\n      this.observeArray(value)\r\n    } else {\r\n      this.walk(value)\r\n    }\r\n  }\r\n\r\n  walk(data) {\r\n    Object.keys(data).forEach(key => {\r\n      this.defineReactive(data, key, data[key])\r\n      this.proxyData(key)\r\n    })\r\n  }\r\n\r\n  observeArray(value) {\r\n    value.forEach(v => {\r\n      observe(v)\r\n    })\r\n  }\r\n\r\n  proxyData(key) {\r\n    Object.defineProperty(this.vm, key, {\r\n      get() {\r\n        return this._data[key]\r\n      },\r\n      set(newVal) {\r\n        this._data[key] = newVal\r\n      }\r\n    })\r\n  }\r\n\r\n  defineReactive(data, key, value) {\r\n    observe(value, this.vm) // 递归实现深度检测\r\n    const dep = new Dep()\r\n    Object.defineProperty(data, key, {\r\n      set(newVal) { // 观察者\r\n        if (newVal == value) return\r\n        observe(value, this.vm) // 如果更新了一个对象 则继续检测\r\n        value = newVal\r\n        dep.notify()\r\n      },\r\n      get() {\r\n        Dep.target && dep.addDep(Dep.target)\r\n        return value\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function observe(data, vm) {\r\n  let isObj = isObject(data)\r\n  if (!isObj) {\r\n    return\r\n  }\r\n  return new Observer(data, vm)\r\n}","import {\r\n  observe\r\n} from './observer/index'\r\n\r\nexport function initState(vm) {\r\n  const opts = vm.$options\r\n  // if (opts.props) {\r\n  //   initProps(vm)\r\n  // }\r\n\r\n  // if (opts.methods) {\r\n  //   initMethod(vm)\r\n  // }\r\n\r\n  if (opts.data) {\r\n    initData(vm)\r\n  }\r\n\r\n  // if (opts.computed) {\r\n  //   initComputed(vm)\r\n  // }\r\n\r\n  // if (opts.watch) {\r\n  //   initWatch(vm)\r\n  // }\r\n}\r\n\r\nfunction initProps() {}\r\n\r\nfunction initMethod() {}\r\n\r\nfunction initData(vm) {\r\n  let data = vm.$options.data\r\n  data = vm._data = typeof data === 'function' ? data.call(vm) : data\r\n  observe(data, vm)\r\n}\r\n\r\nfunction initComputed() {}\r\n\r\nfunction initWatch() {}","import Dep from './dep'\r\n\r\nexport default class Watcher { // 执行更新\r\n  constructor(vm, key, cb) {\r\n    this.vm = vm\r\n    this.key = key\r\n    this.cb = cb\r\n    Dep.target = this\r\n    this.vm[this.key]\r\n  }\r\n  update() {\r\n    this.cb.call(this.vm, this.vm[this.key])\r\n  }\r\n}","import Watcher from \"../observer/watcher\"\r\nimport {\r\n  throttle\r\n} from '../utils/index'\r\n\r\nexport class Compile {\r\n  constructor(el, vm) {\r\n    this.$el = document.querySelector(el)\r\n    this.$vm = vm\r\n\r\n    if (this.$el) {\r\n      this.$fragment = this.node2Fragment(this.$el)\r\n      this.compile(this.$fragment)\r\n      this.$el.appendChild(this.$fragment)\r\n    }\r\n  }\r\n\r\n  node2Fragment(el) {\r\n    const frag = document.createDocumentFragment()\r\n    let child\r\n    while (child = el.firstChild) {\r\n      frag.appendChild(child)\r\n    }\r\n    return frag\r\n  }\r\n\r\n  compile(el) {\r\n    const childNodes = el.childNodes\r\n    Array.from(childNodes).forEach(node => {\r\n      if (this.isElement(node)) {\r\n        // console.log('元素' + node.nodeName)\r\n        const nodeAttr = node.attributes\r\n        Array.from(nodeAttr).forEach(attr => {\r\n          const attrName = attr.name\r\n          const exp = attr.value\r\n          if (this.isDirective(attrName)) {\r\n            const dir = attrName.substring(2)\r\n            this[dir] && this[dir](node, this.$vm, exp)\r\n          }\r\n          if (this.isEvent(attrName)) {\r\n            const dir = attrName.substring(1)\r\n            this.eventHandler(node, this.$vm, exp, dir)\r\n          }\r\n        })\r\n      } else if (this.isInterpolation(node)) {\r\n        // console.log('文本' + node.textContent)\r\n        this.compileText(node)\r\n      }\r\n      if (node.childNodes && node.childNodes.length > 0) {\r\n        this.compile(node)\r\n      }\r\n    })\r\n  }\r\n\r\n  // 事件处理\r\n  eventHandler(node, vm, exp, dir) {\r\n    let fn = vm.$options.methods && vm.$options.methods[exp]\r\n    if (dir && fn) {\r\n      node.addEventListener(dir, fn.bind(vm))\r\n    }\r\n  }\r\n\r\n  // 双向绑定\r\n  model(node, vm, exp) {\r\n    this.update(node, vm, exp, 'model')\r\n    node.addEventListener('input', throttle(e => {\r\n      vm[exp] = e.target.value\r\n    }))\r\n  }\r\n\r\n  modelUpdater(node, value) {\r\n    node.value = value\r\n  }\r\n\r\n  text(node, vm, exp) {\r\n    this.update(node, vm, exp, 'text')\r\n  }\r\n\r\n  html(node, vm, exp) {\r\n    this.update(node, vm, exp, 'html')\r\n  }\r\n\r\n  isDirective(attr) {\r\n    return attr.indexOf('v-') === 0\r\n  }\r\n\r\n  isEvent(attr) {\r\n    return attr.indexOf('@') === 0\r\n  }\r\n\r\n  compileText(node) {\r\n    this.update(node, this.$vm, RegExp.$1, 'text')\r\n  }\r\n\r\n  update(node, vm, exp, dir) {\r\n    const updateFn = this[dir + 'Updater']\r\n    updateFn && updateFn(node, vm[exp])\r\n    new Watcher(vm, exp, val => {\r\n      updateFn && updateFn(node, val)\r\n    })\r\n  }\r\n\r\n  textUpdater(node, value) {\r\n    node.textContent = value\r\n  }\r\n\r\n  htmlUpdater(node, value) {\r\n    node.innerHTML = value\r\n  }\r\n\r\n  isElement(node) {\r\n    return node.nodeType === 1\r\n  }\r\n\r\n  isInterpolation(node) {\r\n    return node.nodeType === 3 && /\\{\\{(.*)\\}\\}/.test(node.textContent)\r\n  }\r\n}","import {\r\n  initState\r\n} from './state'\r\n\r\nimport {\r\n  Compile\r\n} from './compiler/index'\r\n\r\nexport function initMixin(Vue) {\r\n  Vue.prototype._init = function (options) {\r\n    const vm = this\r\n    vm.$options = options\r\n\r\n    initState(vm)\r\n\r\n    if (vm.$options.el) {\r\n      vm.$mount(vm.$options.el)\r\n    }\r\n  }\r\n  Vue.prototype.$mount = function (el) {\r\n    // const vm = this\r\n    // const options = vm.$options\r\n    // el = document.querySelector(el)\r\n\r\n    // if (!options.render) {\r\n    //   let template = options.template\r\n    //   if (!template && el) {\r\n    //     template = el.outerHTML\r\n    //   }\r\n\r\n    //   const render = compileToFunction(template)\r\n    //   options.render = render\r\n    // }\r\n    // options.render\r\n    new Compile(el, this)\r\n\r\n    if (this.$options.created) {\r\n      this.$options.created.call(this)\r\n    }\r\n  }\r\n}","import {\r\n  initMixin\r\n} from './init'\r\n\r\nclass Vue {\r\n  constructor(options) {\r\n    this._init(options)\r\n  }\r\n}\r\n\r\ninitMixin(Vue)\r\n\r\nexport default Vue"],"names":["isObject","data","def","key","value","Object","defineProperty","enumerable","configurable","throttle","fn","wait","lastTime","Date","now","args","apply","oldarrayMethods","Array","prototype","arrayMethods","create","methods","forEach","method","result","ob","__ob__","inserted","slice","observeArray","Dep","deps","dep","push","update","Observer","vm","console","log","isArray","__proto__","walk","keys","defineReactive","proxyData","v","observe","get","_data","set","newVal","notify","target","addDep","isObj","initState","opts","$options","initData","call","Watcher","cb","Compile","el","$el","document","querySelector","$vm","$fragment","node2Fragment","compile","appendChild","frag","createDocumentFragment","child","firstChild","childNodes","from","node","isElement","nodeAttr","attributes","attr","attrName","name","exp","isDirective","dir","substring","isEvent","eventHandler","isInterpolation","compileText","length","addEventListener","bind","e","indexOf","RegExp","$1","updateFn","val","textContent","innerHTML","nodeType","test","initMixin","Vue","_init","options","$mount","created"],"mappings":"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"}